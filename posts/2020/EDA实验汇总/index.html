<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>EDA实验汇总 | 津志的博客</title><meta name="keywords" content="EDA"><meta name="author" content="jinzhi"><meta name="copyright" content="jinzhi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="EDA实验汇总 实验1_简单组合电路的设计 2选1 12345module mux21a(a, b, s, y);	input a, b, s;	output y;	assign y &#x3D; s ? a : b;endmodule 思考题 1-1、用 Verilog 设计一个 3 选 1 多路选择器，并在软件上进行仿真，得出仿真波形。 12345678910111213141516&#x2F;&#x2F; 3选1&#x2F;&#x2F; 多">
<meta property="og:type" content="article">
<meta property="og:title" content="EDA实验汇总">
<meta property="og:url" content="https://jinzhi666.github.io/posts/2020/EDA%E5%AE%9E%E9%AA%8C%E6%B1%87%E6%80%BB/index.html">
<meta property="og:site_name" content="津志的博客">
<meta property="og:description" content="EDA实验汇总 实验1_简单组合电路的设计 2选1 12345module mux21a(a, b, s, y);	input a, b, s;	output y;	assign y &#x3D; s ? a : b;endmodule 思考题 1-1、用 Verilog 设计一个 3 选 1 多路选择器，并在软件上进行仿真，得出仿真波形。 12345678910111213141516&#x2F;&#x2F; 3选1&#x2F;&#x2F; 多">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://api.dujin.org/bing/1920.php">
<meta property="article:published_time" content="2020-11-04T14:31:46.000Z">
<meta property="article:modified_time" content="2022-07-18T11:38:03.967Z">
<meta property="article:author" content="jinzhi">
<meta property="article:tag" content="EDA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://api.dujin.org/bing/1920.php"><link rel="shortcut icon" href="/img/avatar.jpg"><link rel="canonical" href="https://jinzhi666.github.io/posts/2020/EDA%E5%AE%9E%E9%AA%8C%E6%B1%87%E6%80%BB/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.zhimg.com/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.zhimg.com/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.zhimg.com/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://unpkg.zhimg.com/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'EDA实验汇总',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-07-18 19:38:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/galleryGroup/"><i class="fa-fw fas fa-video"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://api.dujin.org/bing/1920.php')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">津志的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/galleryGroup/"><i class="fa-fw fas fa-video"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">EDA实验汇总</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-04T14:31:46.000Z" title="发表于 2020-11-04 22:31:46">2020-11-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-18T11:38:03.967Z" title="更新于 2022-07-18 19:38:03">2022-07-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BC%96%E7%A8%8B/EDA/">EDA</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>EDA实验汇总</h1>
<h1>实验1_简单组合电路的设计</h1>
<h2 id="2选1">2选1</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> mux21a(a, b, s, y);</span><br><span class="line">	<span class="keyword">input</span> a, b, s;</span><br><span class="line">	<span class="keyword">output</span> y;</span><br><span class="line">	<span class="keyword">assign</span> y = s ? a : b;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="思考题">思考题</h2>
<p>1-1、用 Verilog 设计一个 3 选 1 多路选择器，并在软件上进行仿真，得出仿真波形。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3选1</span></span><br><span class="line"><span class="comment">// 多了一个 2 位的标志位，可以取4种情况</span></span><br><span class="line"><span class="keyword">module</span> mux31a(a, b, c, flag, y);</span><br><span class="line">    <span class="keyword">input</span> a, b, c;</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>]flag;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> y;</span><br><span class="line">    <span class="keyword">always</span> @ (a, b, c, flag)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">case</span>(flag)</span><br><span class="line">                <span class="number">2&#x27;b00</span> : y &lt;= a;</span><br><span class="line">                <span class="number">2&#x27;b01</span> : y &lt;= b;</span><br><span class="line">                <span class="number">2&#x27;b10</span> : y &lt;= c;</span><br><span class="line">                <span class="keyword">default</span> : y &lt;= a;</span><br><span class="line">            <span class="keyword">endcase</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4选1</span></span><br><span class="line"><span class="keyword">module</span> mux41a(a, b, c, d, s1, s0, y);</span><br><span class="line">    <span class="keyword">input</span> a, b, c, d;</span><br><span class="line">    <span class="keyword">input</span> s1, s0;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> y;</span><br><span class="line">    <span class="keyword">always</span> @ (a, b, c, d, s1, s0)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">case</span>(&#123;s1, s0&#125;)</span><br><span class="line">                <span class="number">2&#x27;b00</span> : y &lt;=a ;</span><br><span class="line">                <span class="number">2&#x27;b01</span> : y &lt;= b;</span><br><span class="line">                <span class="number">2&#x27;b10</span> : y &lt;= c;</span><br><span class="line">                <span class="number">2&#x27;b11</span> : y &lt;= d;</span><br><span class="line">                <span class="keyword">default</span> : y &lt;= a;</span><br><span class="line">            <span class="keyword">endcase</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1-2、说明波形文件 mux21a.vwf 和仿真结果波形文件 mux21a-sim.vwf 的差别。</p>
<p>1.mux21a.vwf可以对输入数据进行修改，不会显示输出波形。修改输入波形数据后，输出波形不变。</p>
<p>2.mux21a-sim.vmf是在对输入赋值后运行生成的仿真波形文件，显示出了输出波形，这个文件是一个只读文件，不能对输入数据进行修改。</p>
<h1>实验2_两种锁存器的设计</h1>
<p>==不能以latch命名==</p>
<h2 id="电平锁存器">电平锁存器</h2>
<p>锁存器也称寄存器、触发器，电平锁存器是使用时钟作为控制信号。</p>
<ul>
<li>在时钟的高电平期间，不锁存输入信号的值，输出等于输入</li>
<li>在低电平期间，锁存下降沿到来时输入的值，然后输出保持不变</li>
<li>锁存的时间是半个周期。</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> latch_level(clk, d, q);</span><br><span class="line">    <span class="keyword">input</span> clk, d;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> q;</span><br><span class="line">    <span class="keyword">always</span> @ (d, clk)</span><br><span class="line">        <span class="keyword">if</span> (clk)</span><br><span class="line">            q &lt;= d;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="时钟沿锁存器">时钟沿锁存器</h2>
<p>时钟沿锁存器是使用时钟作为控制信号</p>
<ul>
<li>
<p>在时钟沿到来时（上升沿或者下降沿），将此时的输入值传到输出，然后保持不变，直到下一个时钟沿到来时才更新。</p>
</li>
<li>
<p>在下一个时钟沿到来期间，输入的值无论如何变化，输出都保持不变</p>
</li>
<li>
<p>即锁存的时间是一个时钟周期。</p>
</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> latch_edge(clk, d, q)</span><br><span class="line">    <span class="keyword">input</span> clk, d;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> q;</span><br><span class="line">    <span class="comment">// 上升沿</span></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk)</span><br><span class="line">        q &lt;= d;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="思考题-2">思考题</h2>
<p>2-1、设计一个锁存器，具有电平锁存和时钟沿锁存 2 种功能。设输入信号是 CLK 和 D，输出是<br>
Q1 和 Q2，其中 Q1 是电平锁存器的输出，Q2 是时钟沿锁存器的输出。写出设计代码，并在软件上仿<br>
真得到仿真波形。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> latch_level_edge(CLK, D, Q1, Q2);</span><br><span class="line">    <span class="keyword">input</span> CLK, D;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> Q1, Q2;</span><br><span class="line">    <span class="keyword">always</span> @ (D, CLK)</span><br><span class="line">        Q1 &lt;= D;</span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> CLK)</span><br><span class="line">        Q2 &lt;= D;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>2-2*、试说明为什么 D 触发器具有抗干扰作用。</p>
<pre><code> D触发器允许在CLK触发沿来到前一瞬间加入输入信号，输入端受到干扰的时间大大缩短，受干扰的可能性就降低了。D触发器也称为维持-阻塞边沿D触发器。
</code></pre>
<h1>实验3_计数器的设计</h1>
<h2 id="1位十进制计数器">1位十进制计数器</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> cnt_10(reset, en, clk, cq, cout);</span><br><span class="line">    <span class="keyword">input</span> reset, en, clk;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]cq, cout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                cq &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// en 是使能信号</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (en)</span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="comment">// cq 是计数值</span></span><br><span class="line">                    <span class="comment">// 范围是0 - 9 十进制</span></span><br><span class="line">                    <span class="keyword">if</span> (cq == <span class="number">9</span>)</span><br><span class="line">                        cq &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cq &lt;= cq + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">always</span> @ (reset, cq)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                cout &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 当计数到9时候输出进位脉冲</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cq == <span class="number">9</span>)</span><br><span class="line">                cout &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                cout &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="思考题-3">思考题</h2>
<p>试设计一个 2 位十进制加法计数器（提示：如果调用本实验所设计的 1 位十进制计数器，则<br>
需要改为时钟下降沿计数）。</p>
<p>下面是错误的</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2位十进制加法计数器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> cnt_10_2bit(reset, en, clk, cq, cout);</span><br><span class="line"><span class="keyword">input</span> reset, en, clk;</span><br><span class="line">	<span class="comment">// 0 - 99 范围</span></span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">10</span>:<span class="number">0</span>]cq, cout;</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span> (reset)</span><br><span class="line">				cq &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="comment">// en 是使能信号</span></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (en)</span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">					<span class="comment">// cq 是计数值</span></span><br><span class="line">					<span class="comment">// 0 - 99</span></span><br><span class="line">					<span class="keyword">if</span> (cq == <span class="number">99</span>)</span><br><span class="line">						cq &lt;= <span class="number">0</span>;</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						cq &lt;= cq + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">always</span> @ (reset, cq)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span> (reset)</span><br><span class="line">				cout &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="comment">// 当计数到99时候输出进位脉冲</span></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (cq == <span class="number">99</span>)</span><br><span class="line">				cout &lt;= <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				cout &lt;= <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>正确如下</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>	cnt_10_2bit(reset, clk, cnt0, cnt1, cout0, cout1);	     	      	      </span><br><span class="line">    <span class="keyword">input</span> reset,clk;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]cnt0;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]cnt1;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> cout1, cout0;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(reset)</span><br><span class="line">                cnt0 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="comment">// 跟 1 位的一样</span></span><br><span class="line">                    <span class="keyword">if</span>(cnt0 == <span class="number">9</span>)</span><br><span class="line">                        cnt0 &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cnt0 &lt;= cnt0 + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(reset)</span><br><span class="line">                cout0 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 到9 就输出了</span></span><br><span class="line">            <span class="comment">// 到 8 这里就要输出了 9 - 1 = 8</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cnt0 == <span class="number">8</span>)</span><br><span class="line">                cout0 &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout0 &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(reset)</span><br><span class="line">                cnt1 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cout0 == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span>(cnt1 == <span class="number">9</span>)</span><br><span class="line">                        cnt1 &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cnt1 &lt;= cnt1 + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(reset)</span><br><span class="line">                cout1 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 总是少 1 </span></span><br><span class="line">            <span class="comment">// 98 = 99 - 1 时候</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((cnt1 == <span class="number">9</span>) &amp;&amp; (cnt0 == <span class="number">8</span>))</span><br><span class="line">                cout1 &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout1 &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>实验4_分频器的设计</h1>
<h2 id="数控分频器的设计与仿真">数控分频器的设计与仿真</h2>
<p>通过输入不同的初值，改变输出时钟信号的频率</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> divider_control(clk, d, fout);</span><br><span class="line">    <span class="keyword">input</span> clk;</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>]d;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> fout;</span><br><span class="line">    <span class="keyword">reg</span> cout;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]cnt8;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (cnt8 == <span class="number">8&#x27;b11111111</span>)</span><br><span class="line">                cnt8 &lt;= d;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cnt8 &lt;= cnt8 + <span class="number">1</span>;	</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (cnt8 == <span class="number">8&#x27;b11111110</span>)</span><br><span class="line">                cout &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> cout)</span><br><span class="line">        fout &lt;= ~fout;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="一般分频器的设计">一般分频器的设计</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5分频 2/5 占空比</span></span><br><span class="line"><span class="comment">// 仿真波形如下图，可以看出分频时钟的周期是输入时钟周期的 5 倍</span></span><br><span class="line"><span class="keyword">module</span> div5_duty40(reset, clk, div5);</span><br><span class="line">    <span class="keyword">input</span> reset, clk;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> div5;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] cnt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                cnt &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                   	<span class="comment">// 分频数</span></span><br><span class="line">                    <span class="comment">// 5 - 1 = 4</span></span><br><span class="line">                    <span class="keyword">if</span> (cnt == <span class="number">4</span>)</span><br><span class="line">                        cnt &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cnt &lt;= cnt + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                div5 &lt;= <span class="number">0</span>;</span><br><span class="line">            	<span class="comment">// 2 / 5 的占空比</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cnt &lt; <span class="number">2</span>)</span><br><span class="line">                div5 &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                div5 &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="50M时钟分频器的设计">50M时钟分频器的设计</h2>
<p>50MHz 的晶振比较常用，实验箱的核心板 DE1-SOC 板提供了 4 个 50MHz 的时钟（如附录二表 3-5<br>
所示），通过分频可以产生各种需要的时钟，例如，1hz，10hz，100hz，500hz，1khz，50khz 等。<br>
产生 50Khz 时钟的设计代码如下，其中分频比和？处的数据自己补充。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 50Mhz的晶振</span></span><br><span class="line"><span class="comment">// 产生50kHz 时钟</span></span><br><span class="line"><span class="comment">// 1s 产生50M / 50k = 1000个</span></span><br><span class="line"><span class="keyword">module</span> div_50M(reset, clk, clk_50khz);</span><br><span class="line">    <span class="keyword">input</span> reset, clk;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> clk_50khz;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">31</span>:<span class="number">0</span>]cnt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                cnt &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span> (cnt == <span class="number">1000</span> - <span class="number">1</span>)</span><br><span class="line">                        cnt &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cnt &lt;= cnt + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 0 - 499 500 - 999</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cnt &lt; <span class="number">1000</span> / <span class="number">2</span>)</span><br><span class="line">                clk_50khz &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="在实验箱验证数控分频器">在实验箱验证数控分频器</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> div_ctr(reset, clk_50m, d, fout);</span><br><span class="line">    <span class="keyword">input</span> reset, clk_50m;</span><br><span class="line">    <span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] d;</span><br><span class="line">    <span class="keyword">output</span> fout;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 50khz timer</span></span><br><span class="line">    <span class="keyword">reg</span> clk_50khz;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">9</span>:<span class="number">0</span>] cnt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">negedge</span> reset, <span class="keyword">posedge</span> clk_50m)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (!reset)</span><br><span class="line">                cnt &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span> (cnt == <span class="number">1000</span> - <span class="number">1</span>)</span><br><span class="line">                        cnt &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        cnt &lt;= cnt + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">negedge</span> reset, <span class="keyword">posedge</span> clk_50m)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (!reset)</span><br><span class="line">                clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (cnt &lt; <span class="number">1000</span> / <span class="number">2</span>)</span><br><span class="line">                clk_50khz &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数控分频器</span></span><br><span class="line">    <span class="keyword">reg</span> fout;</span><br><span class="line">    <span class="keyword">reg</span> cout;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] cnt8;</span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk_50khz)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (cnt8 == <span class="number">8&#x27;b11111111</span>)</span><br><span class="line">                cnt8 &lt;= d;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cnt8 &lt;= cnt8 + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk_50khz)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (cnt8 == <span class="number">8&#x27;b11111110</span>)</span><br><span class="line">                cout &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> cout)</span><br><span class="line">        fout &lt;= ~fout;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="思考题-4">思考题</h2>
<p>4-1、 设计一个同步复位的 6 分频器，占空比是 50%，信号名规定如下：复位信号 reset，高电平<br>
复位，输入时钟信号 clk，输出的 6 分频时钟为 div6，内部计数器为 counter。写出代码并仿真。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> div6_50duty(reset, clk, div6);</span><br><span class="line">    <span class="keyword">input</span> reset, clk;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> div6;</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] counter;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                counter &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">begin</span> </span><br><span class="line">                    <span class="comment">// 6分频</span></span><br><span class="line">                    <span class="comment">// 6 - 1 = 5</span></span><br><span class="line">                    <span class="keyword">if</span> (counter == <span class="number">5</span>)</span><br><span class="line">                        counter &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        counter &lt;= counter + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> reset, <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span> (reset)</span><br><span class="line">                div6 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 50 % 占空比 </span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (counter &lt; <span class="number">3</span>)</span><br><span class="line">                div6 &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                div6 &lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>4-2、设计一个 1.5 分频的分频器。</p>
<img src="https://img-blog.csdnimg.cn/img_convert/58c12e7a2d37a3c8e7a2413d1e4f9099.png" alt="image-20201121213613039" style="zoom: 50%;" />
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> div_1dot5(clk, reset, div1d5, clkN, clkP, count);</span><br><span class="line">    <span class="keyword">input</span> clk, reset;</span><br><span class="line">    <span class="keyword">output</span> div1d5, clkN, clkP;</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] count;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">2</span>:<span class="number">0</span>]shiftcount;</span><br><span class="line">    <span class="keyword">reg</span> clkP, clkN;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> shiftcount = <span class="number">3&#x27;b001</span>;</span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk ,<span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                count &lt;= shiftcount;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                count &lt;= &#123;count[<span class="number">1</span>:<span class="number">0</span>],count[<span class="number">2</span>]&#125;;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">negedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                clkN &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(count == <span class="number">3&#x27;b010</span>)</span><br><span class="line">                clkN &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                clkN &lt;= <span class="number">0</span>; </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                clkP &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(count == <span class="number">3&#x27;b100</span>)</span><br><span class="line">                clkP &lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                clkP &lt;= <span class="number">0</span>;  </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">assign</span> div1d5 = clkP | clkN;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.5分频</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_15026001/article/details/102520855">参考</a></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> D2div5(</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> reset,</span><br><span class="line">    <span class="keyword">output</span> D2div5,</span><br><span class="line">    <span class="keyword">output</span> [<span class="number">4</span>:<span class="number">0</span>] count,</span><br><span class="line">    <span class="keyword">output</span> clkN,</span><br><span class="line">    <span class="keyword">output</span> clkP</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">4</span>:<span class="number">0</span>] count;</span><br><span class="line">    <span class="keyword">wire</span> [<span class="number">4</span>:<span class="number">0</span>]shiftcount;</span><br><span class="line">    <span class="keyword">reg</span> clkP,clkN;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> shiftcount = <span class="number">5&#x27;b00001</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk ,<span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">if</span>(!reset)</span><br><span class="line">            count &lt;= shiftcount;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        count &lt;= &#123;count[<span class="number">3</span>:<span class="number">0</span>],count[<span class="number">4</span>]&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">negedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">if</span>(!reset)</span><br><span class="line">            clkN &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(count == <span class="number">5&#x27;b01000</span> || count == <span class="number">5&#x27;b10000</span>)</span><br><span class="line">        clkN &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">    <span class="keyword">else</span> clkN &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span> @ (<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> reset)</span><br><span class="line">        <span class="keyword">if</span>(!reset)</span><br><span class="line">            clkP &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(count == <span class="number">5&#x27;b00001</span> || count == <span class="number">5&#x27;b00010</span>)</span><br><span class="line">        clkP &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">    <span class="keyword">else</span> clkP &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assign</span> D2div5 = clkP | clkN;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>3分频50%占空比</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> div3_duty50(</span><br><span class="line">    <span class="keyword">input</span> clk,</span><br><span class="line">    <span class="keyword">input</span> rst,</span><br><span class="line">    <span class="keyword">output</span> clk_div</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">reg</span> [<span class="number">2</span>:<span class="number">0</span>] cnt;</span><br><span class="line">    <span class="keyword">reg</span> clk_p;</span><br><span class="line">    <span class="keyword">reg</span> clk_n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!rst)</span><br><span class="line">                cnt&lt;=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cnt==<span class="number">2</span>)</span><br><span class="line">                cnt&lt;=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cnt&lt;=cnt+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="comment">//下降沿采样上述时钟</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!rst)</span><br><span class="line">                clk_p&lt;=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cnt==<span class="number">1</span>)</span><br><span class="line">                clk_p&lt;=~clk_p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cnt==<span class="number">2</span>)</span><br><span class="line">                clk_p&lt;=~clk_p;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                clk_p&lt;=clk_p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="comment">//下降沿采样上述时钟</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">negedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!rst)</span><br><span class="line">                clk_n&lt;=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                clk_n&lt;=clk_p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="comment">//产生分频时钟</span></span><br><span class="line">    <span class="keyword">assign</span> clk_div = clk_n | clk_p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>4-3、利用实验箱的资源验证实验一中的选择器，可以将 a 设为 1hz，b 设为 10hz，a 和 b 可以使<br>
用分频器产生。S 连接到拨码开关 SW0，y 连接到 LEDR0 上。<br>
4-4、利用实验箱的资源验证实验三中的计数器，验证方案自己确定，原则上要求易于操作，易于<br>
观察。</p>
<h1>实验5 用原理图输入设计8位全加器</h1>
<h2 id="半加器">半加器</h2>
<img src="https://img-blog.csdnimg.cn/img_convert/72989fcf5240d571ef9b17a8a4565ca1.png" alt="image-20201121165802908"  />
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SO = a ^ b</span></span><br><span class="line"><span class="comment">// CO = a &amp; b</span></span><br><span class="line"><span class="keyword">module</span> h_adder(a, b, CO, SO);</span><br><span class="line">    <span class="keyword">input</span> a, b;</span><br><span class="line">    <span class="keyword">output</span> CO, SO;</span><br><span class="line">    <span class="keyword">assign</span> SO = a ^ b;</span><br><span class="line">    <span class="keyword">assign</span> CO = a &amp; b;</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="全加器">全加器</h2>
<p><img src="https://img-blog.csdnimg.cn/img_convert/21b7b40b6f4dbf2f482ec07b3f6e2ea5.png" alt="image-20201121165815078"></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> f_adder_1bit(ain, bin, cin, sum, cout);</span><br><span class="line">    <span class="keyword">input</span> ain, bin, cin;</span><br><span class="line">    <span class="keyword">output</span> sum, cout;</span><br><span class="line">    <span class="keyword">assign</span> sum = ain ^ bin ^ cin;</span><br><span class="line">    <span class="keyword">assign</span> cout = (ain &amp; bin) | (bin &amp; cin) | (ain &amp; cin);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h2 id="8-位全加器">8 位全加器</h2>
<img src="https://img-blog.csdnimg.cn/img_convert/34b6286342208cff39d15cadac78d067.png" alt="image-20201121165915050" style="zoom:80%;" />
<h2 id="思考题-5">思考题</h2>
<p>用verilog代码设计1位全加器</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> f_adder_1bit(ain, bin, cin, sum, cout);</span><br><span class="line">    <span class="keyword">input</span> ain, bin, cin;</span><br><span class="line">    <span class="keyword">output</span> sum, cout;</span><br><span class="line">    <span class="comment">// 1 ^ 1 ^ 1 = 1</span></span><br><span class="line">    <span class="comment">// 1 ^ 0 ^ 0 = 1</span></span><br><span class="line">    <span class="comment">// 1 ^ 1 ^ 0 = 0</span></span><br><span class="line">    <span class="comment">// 0 ^ 0 ^ 0 = 1</span></span><br><span class="line">    <span class="keyword">assign</span> sum = ain ^ bin ^ cin;</span><br><span class="line">    <span class="comment">// 有两个 1 才行</span></span><br><span class="line">    <span class="keyword">assign</span> cout = (ain &amp; bin) | (bin &amp; cin) | (ain &amp; cin);</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> add_1bit(</span><br><span class="line">    <span class="keyword">input</span> a, b, in,</span><br><span class="line">    <span class="keyword">output</span> c, out</span><br><span class="line">);</span><br><span class="line">    <span class="comment">// out 是进位</span></span><br><span class="line">    <span class="keyword">assign</span> &#123;out, c&#125; = a + b + in;</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<h1>实验7 数码管应用电路的设计</h1>
<h2 id="HEX0-数码管">HEX0 数码管</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> decoder(seg_in,seg_en,seg_out);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">input</span> [<span class="number">3</span>:<span class="number">0</span>] seg_in;</span><br><span class="line">	<span class="keyword">input</span> seg_en;</span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span>[<span class="number">7</span>:<span class="number">0</span>] seg_out;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">always</span>@(seg_in <span class="keyword">or</span> seg_en)</span><br><span class="line">	<span class="keyword">begin</span></span><br><span class="line">		<span class="keyword">case</span>(seg_in)</span><br><span class="line">			<span class="number">4&#x27;b0000</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1100_0000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0001</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1111_1001</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0010</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1010_0100</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0011</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1011_0000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0100</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1001_1001</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0101</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1001_0010</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0110</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_0010</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b0111</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1111_1000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1000</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_0000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1001</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1001_1000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1010</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_1000</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1011</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_0011</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1100</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1100_0110</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1101</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1010_0001</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1110</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_0110</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>; </span><br><span class="line">			<span class="number">4&#x27;b1111</span>:</span><br><span class="line">				<span class="keyword">if</span>(seg_en)  </span><br><span class="line">					seg_out[<span class="number">7</span>:<span class="number">0</span>]=<span class="number">8&#x27;b1000_1110</span>; </span><br><span class="line">				<span class="keyword">else</span> </span><br><span class="line">					seg_out = <span class="number">8&#x27;b11111111</span>;</span><br><span class="line">			<span class="keyword">default</span>:                                            </span><br><span class="line">				seg_out = <span class="number">8&#x27;b11111111</span>;                  </span><br><span class="line">		<span class="keyword">endcase</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="50M时钟分频器">50M时钟分频器</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> divider_50m(reset,</span><br><span class="line">	      clk,	      </span><br><span class="line">			clk_1hz,clk_10hz,clk_50hz,clk_50khz);</span><br><span class="line">	     	      	      </span><br><span class="line">	<span class="keyword">input</span> reset,clk;</span><br><span class="line">	<span class="keyword">output</span> <span class="keyword">reg</span> clk_1hz, clk_10hz, clk_50hz, clk_50khz;	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 计数器</span></span><br><span class="line">	<span class="keyword">reg</span>	[<span class="number">9</span>:<span class="number">0</span>]counter1;</span><br><span class="line">	<span class="keyword">reg</span>	[<span class="number">9</span>:<span class="number">0</span>]counter2;</span><br><span class="line">	<span class="keyword">reg</span>	[<span class="number">2</span>:<span class="number">0</span>]counter3;</span><br><span class="line">	<span class="keyword">reg</span>	[<span class="number">3</span>:<span class="number">0</span>]counter4;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//*********** clk_50khz ***********</span></span><br><span class="line">	<span class="comment">// 50M / 50k = 1000</span></span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				counter1 &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">if</span>(counter1 == <span class="number">999</span>)</span><br><span class="line">					counter1 &lt;= <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					counter1 &lt;= counter1+<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(counter1 &lt; <span class="number">500</span>)</span><br><span class="line">				clk_50khz &lt;= <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				clk_50khz &lt;= <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line">		</span><br><span class="line">	<span class="comment">//*********  clk_50hz*******************</span></span><br><span class="line">	<span class="comment">// 50M / 50k = 1000</span></span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_50khz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				counter2 &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">if</span>(counter2 == <span class="number">999</span>)</span><br><span class="line">					counter2 &lt;= <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					counter2 &lt;= counter2 + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_50khz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				clk_50hz &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(counter2 &lt; <span class="number">500</span>)</span><br><span class="line">				clk_50hz &lt;= <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				clk_50hz &lt;= <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">	<span class="comment">//*********  clk_10hz*******************</span></span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_50hz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				counter3 &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">if</span>(counter3 == <span class="number">4</span>)</span><br><span class="line">					counter3 &lt;= <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					counter3 &lt;= counter3 + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_50hz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				clk_10hz &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(counter3 &lt; <span class="number">2</span>)</span><br><span class="line">				clk_10hz &lt;= <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				clk_10hz &lt;= <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">	<span class="comment">//*********  clk_1hz*******************</span></span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_10hz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				counter4 &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line">				<span class="keyword">begin</span></span><br><span class="line">				<span class="keyword">if</span>(counter4 == <span class="number">9</span>)</span><br><span class="line">					counter4 &lt;= <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					counter4 &lt;= counter4 + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk_10hz)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(!reset)</span><br><span class="line">				clk_1hz &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(counter4 &lt; <span class="number">5</span>)</span><br><span class="line">				clk_1hz &lt;= <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				clk_1hz &lt;= <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">end</span>	</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2位十进制计数器">2位十进制计数器</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>	cnt10_2bcd(reset,clk,</span><br><span class="line">                   bcd0,bcd1,cout0,cout1);	     	      	      </span><br><span class="line">    <span class="keyword">input</span>	  reset,clk;</span><br><span class="line">    <span class="keyword">output</span>	[<span class="number">3</span>:<span class="number">0</span>]bcd0;</span><br><span class="line">    <span class="keyword">output</span>	[<span class="number">3</span>:<span class="number">0</span>]bcd1;</span><br><span class="line">    <span class="keyword">output</span>	cout1,cout0;</span><br><span class="line">    <span class="keyword">reg</span>			[<span class="number">3</span>:<span class="number">0</span>]bcd0;</span><br><span class="line">    <span class="keyword">reg</span>			[<span class="number">3</span>:<span class="number">0</span>]bcd1;</span><br><span class="line">    <span class="keyword">reg</span>			cout0;</span><br><span class="line">    <span class="keyword">reg</span>	      cout1;</span><br><span class="line">    <span class="comment">//******** bcd0 ***********</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                bcd0 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span>(bcd0==<span class="number">9</span>)</span><br><span class="line">                        bcd0 &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        bcd0&lt;= bcd0+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                cout0 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(bcd0==<span class="number">8</span>)</span><br><span class="line">                cout0&lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout0&lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line">    <span class="comment">//*******  bcd1 **********	</span></span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                bcd1 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cout0 == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">begin</span></span><br><span class="line">                    <span class="keyword">if</span>(bcd1==<span class="number">9</span>)</span><br><span class="line">                        bcd1 &lt;= <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        bcd1&lt;= bcd1+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span>	</span><br><span class="line">    <span class="keyword">always</span>@(<span class="keyword">negedge</span> reset <span class="keyword">or</span> <span class="keyword">posedge</span> clk)</span><br><span class="line">        <span class="keyword">begin</span></span><br><span class="line">            <span class="keyword">if</span>(!reset)</span><br><span class="line">                cout1 &lt;= <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((bcd1==<span class="number">9</span>)&amp;&amp;(bcd0==<span class="number">8</span>))</span><br><span class="line">                cout1&lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout1&lt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span>		</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="顶层模块的设计">顶层模块的设计</h2>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>	counter_top(reset,clk,sel,	key_in,      </span><br><span class="line">			seg_out0,seg_out1,cout);</span><br><span class="line">			</span><br><span class="line">	<span class="keyword">input</span>		reset,clk,sel,	key_in;</span><br><span class="line">	<span class="keyword">output</span>[<span class="number">7</span>:<span class="number">0</span>]	seg_out0,  seg_out1;</span><br><span class="line">	<span class="keyword">output</span>	cout;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">wire</span>[<span class="number">3</span>:<span class="number">0</span>]	bcd0,bcd1;</span><br><span class="line">	<span class="keyword">wire</span>	clk_counter,clk_1hz,clk_50hz;	</span><br><span class="line">	<span class="keyword">reg</span>	clk_key,sel_key;</span><br><span class="line">	<span class="keyword">wire</span>	seg_en = <span class="number">1&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">always</span>@( <span class="keyword">posedge</span> clk_50hz)</span><br><span class="line">		<span class="keyword">begin</span> clk_key &lt;= key_in;sel_key &lt;= sel;<span class="keyword">end</span></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">assign</span> clk_counter = sel_key? clk_1hz:clk_key;</span><br><span class="line">	<span class="comment">//*****  模块调用 **************</span></span><br><span class="line">	divider_50m  div0 (<span class="variable">.reset</span>(reset),</span><br><span class="line">							<span class="variable">.clk</span>(clk),	      </span><br><span class="line">							<span class="variable">.clk_1hz</span>(clk_1hz),</span><br><span class="line">							<span class="variable">.clk_10hz</span>(  ),</span><br><span class="line">							<span class="variable">.clk_50hz</span>(clk_50hz),</span><br><span class="line">							<span class="variable">.clk_50khz</span>(  )) ;	</span><br><span class="line">							</span><br><span class="line">	cnt10_2bcd count0 (<span class="variable">.reset</span>  (reset  ) ,   </span><br><span class="line">							<span class="variable">.clk</span>    (clk_counter ) ,   </span><br><span class="line">							<span class="variable">.bcd0</span>   (bcd0  ) ,   </span><br><span class="line">							<span class="variable">.bcd1</span>   (bcd1 ) ,   </span><br><span class="line">							<span class="variable">.cout0</span>  (cout  ) ,   </span><br><span class="line">							<span class="variable">.cout1</span>  (  ) );	</span><br><span class="line">						</span><br><span class="line">	decoder  decoder0 (<span class="variable">.seg_in</span>(bcd0),</span><br><span class="line">							 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">							 <span class="variable">.seg_out</span>(seg_out0));</span><br><span class="line">							 </span><br><span class="line">	decoder  decoder1 (<span class="variable">.seg_in</span>(bcd1),</span><br><span class="line">							 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">							 <span class="variable">.seg_out</span>(seg_out1));</span><br><span class="line">							 </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="思考题-6">思考题</h2>
<p>利用本实验提供的设计模块代码，做适当修改，使用 4 个数码管显示自己学号的低 4 位</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4 位</span></span><br><span class="line"><span class="keyword">module</span>	counter_top(reset,   </span><br><span class="line">                    seg_out0,seg_out1, seg_out2, seg_out3);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">input</span>		reset;</span><br><span class="line">    <span class="keyword">output</span>[<span class="number">7</span>:<span class="number">0</span>]	seg_out0, seg_out1, seg_out2, seg_out3;</span><br><span class="line">    <span class="comment">// 从右边开始数起</span></span><br><span class="line">    <span class="keyword">wire</span>[<span class="number">3</span>:<span class="number">0</span>]	bcd0 = <span class="number">2</span>,bcd1 = <span class="number">8</span>, bcd2 = <span class="number">0</span>, bcd3 = <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">wire</span>	seg_en = <span class="number">1&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line">    decoder  decoder0 (<span class="variable">.seg_in</span>(bcd0),</span><br><span class="line">                       <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">                       <span class="variable">.seg_out</span>(seg_out0));</span><br><span class="line"></span><br><span class="line">    decoder  decoder1 (<span class="variable">.seg_in</span>(bcd1),</span><br><span class="line">                       <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">                       <span class="variable">.seg_out</span>(seg_out1));</span><br><span class="line">    decoder  decoder2 (<span class="variable">.seg_in</span>(bcd2),</span><br><span class="line">                       <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">                       <span class="variable">.seg_out</span>(seg_out2));</span><br><span class="line">    decoder  decoder3 (<span class="variable">.seg_in</span>(bcd3),</span><br><span class="line">                       <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">                       <span class="variable">.seg_out</span>(seg_out3));</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 6 位数码管</span></span><br><span class="line"><span class="keyword">module</span>	counter_top(reset,      </span><br><span class="line">			seg_out0,seg_out1, seg_out2, seg_out3, seg_out4, seg_out5);</span><br><span class="line">			</span><br><span class="line">	<span class="keyword">input</span>	reset;</span><br><span class="line">	<span class="keyword">output</span>[<span class="number">7</span>:<span class="number">0</span>]	seg_out0, seg_out1, seg_out2, seg_out3, seg_out4, seg_out5;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 从右边开始数起</span></span><br><span class="line">	<span class="keyword">wire</span>[<span class="number">3</span>:<span class="number">0</span>]	bcd0 = <span class="number">2</span>,bcd1 = <span class="number">8</span>, bcd2 = <span class="number">0</span>, bcd3 = <span class="number">1</span>, bcd4 = <span class="number">1</span>, bcd5 = <span class="number">1</span>; </span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 使能信号</span></span><br><span class="line">	<span class="keyword">wire</span>	seg_en = <span class="number">1&#x27;b1</span>;</span><br><span class="line">				</span><br><span class="line">	decoder  decoder0 (<span class="variable">.seg_in</span>(bcd0),</span><br><span class="line">							 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">							 <span class="variable">.seg_out</span>(seg_out0));</span><br><span class="line">							 </span><br><span class="line">	decoder  decoder1 (<span class="variable">.seg_in</span>(bcd1),</span><br><span class="line">							 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">							 <span class="variable">.seg_out</span>(seg_out1));</span><br><span class="line">							 </span><br><span class="line">	decoder  decoder2 (<span class="variable">.seg_in</span>(bcd2),</span><br><span class="line">						 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">						 <span class="variable">.seg_out</span>(seg_out2));</span><br><span class="line">						 </span><br><span class="line">	decoder  decoder3 (<span class="variable">.seg_in</span>(bcd3),</span><br><span class="line">						 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">						 <span class="variable">.seg_out</span>(seg_out3));</span><br><span class="line">						 </span><br><span class="line">	decoder  decoder4 (<span class="variable">.seg_in</span>(bcd4),</span><br><span class="line">						 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">						 <span class="variable">.seg_out</span>(seg_out4));</span><br><span class="line">						 </span><br><span class="line">	decoder  decoder5 (<span class="variable">.seg_in</span>(bcd5),</span><br><span class="line">						 <span class="variable">.seg_en</span>(seg_en),</span><br><span class="line">						 <span class="variable">.seg_out</span>(seg_out5));</span><br><span class="line">							 </span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>实验8 用状态机实现系列检测器</h1>
<p>使用状态机可以实现系列检测器，状态机设为 s0~s8 共 9 个状态， 当状态机进入 S8 状态时表示前<br>
面的检测都正确，检测到所预制的系列。状态机输出 1，其他状态输出都为 0。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> fsm_detector(rst, clk, din, sout);</span><br><span class="line">	<span class="keyword">input</span> rst, clk;</span><br><span class="line">	<span class="keyword">input</span> din;</span><br><span class="line">	<span class="keyword">output</span> sout;</span><br><span class="line">	<span class="keyword">parameter</span> s0 = <span class="number">0</span>, s1 = <span class="number">1</span>, s2 = <span class="number">2</span>, s3 = <span class="number">3</span>, s4 = <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">parameter</span> s5 = <span class="number">5</span>, s6 = <span class="number">6</span>, s7 = <span class="number">7</span>, s8 = <span class="number">8</span>;</span><br><span class="line">	<span class="keyword">reg</span> [<span class="number">4</span>:<span class="number">0</span>] state;</span><br><span class="line">	<span class="keyword">always</span> @ (<span class="keyword">posedge</span> rst, <span class="keyword">posedge</span> clk)</span><br><span class="line">		<span class="keyword">begin</span></span><br><span class="line">			<span class="keyword">if</span>(rst)</span><br><span class="line">				state &lt;= <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="keyword">case</span>(state)</span><br><span class="line">					s0 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s1;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s1 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s2;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s2 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s3;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s3 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s4;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s4 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s5;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s6 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s7;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s7 : </span><br><span class="line">						<span class="keyword">if</span> (din == <span class="number">1&#x27;b1</span>)</span><br><span class="line">							state &lt;= s8;</span><br><span class="line">						<span class="keyword">else</span></span><br><span class="line">							state &lt;= <span class="number">0</span>;</span><br><span class="line">					s8 : </span><br><span class="line">						state &lt;= <span class="number">0</span>;</span><br><span class="line">					<span class="keyword">default</span> : </span><br><span class="line">						state &lt;= <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">endcase</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">		<span class="keyword">assign</span> sout = (state == s8);</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>EDA实验汇总</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://jinzhi666.gitee.io/posts/2020/EDA%E5%AE%9E%E9%AA%8C%E6%B1%87%E6%80%BB/">https://jinzhi666.gitee.io/posts/2020/EDA实验汇总/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>jinzhi</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2020-11-04</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2022-07-18</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/EDA/">EDA</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/2022/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/"><img class="prev-cover" src="https://api.dujin.org/bing/1920.php" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">浏览器常用插件</div></div></a></div><div class="next-post pull-right"><a href="/posts/2020/vim%E6%95%99%E7%A8%8B/"><img class="next-cover" src="https://api.dujin.org/bing/1920.php" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">vim教程</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">jinzhi</div><div class="author-info__description">记录了津志的日常生活与学习~</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:846672085@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">热爱每一天</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">EDA实验汇总</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">实验1_简单组合电路的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E9%80%891"><span class="toc-number">2.1.</span> <span class="toc-text">2选1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="toc-number">2.2.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">实验2_两种锁存器的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%B5%E5%B9%B3%E9%94%81%E5%AD%98%E5%99%A8"><span class="toc-number">3.1.</span> <span class="toc-text">电平锁存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E6%B2%BF%E9%94%81%E5%AD%98%E5%99%A8"><span class="toc-number">3.2.</span> <span class="toc-text">时钟沿锁存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-2"><span class="toc-number">3.3.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">实验3_计数器的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E4%BD%8D%E5%8D%81%E8%BF%9B%E5%88%B6%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-number">4.1.</span> <span class="toc-text">1位十进制计数器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-3"><span class="toc-number">4.2.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">实验4_分频器的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8E%A7%E5%88%86%E9%A2%91%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BB%BF%E7%9C%9F"><span class="toc-number">5.1.</span> <span class="toc-text">数控分频器的设计与仿真</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E5%88%86%E9%A2%91%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.2.</span> <span class="toc-text">一般分频器的设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50M%E6%97%B6%E9%92%9F%E5%88%86%E9%A2%91%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.3.</span> <span class="toc-text">50M时钟分频器的设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E5%AE%9E%E9%AA%8C%E7%AE%B1%E9%AA%8C%E8%AF%81%E6%95%B0%E6%8E%A7%E5%88%86%E9%A2%91%E5%99%A8"><span class="toc-number">5.4.</span> <span class="toc-text">在实验箱验证数控分频器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-4"><span class="toc-number">5.5.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">实验5 用原理图输入设计8位全加器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8A%E5%8A%A0%E5%99%A8"><span class="toc-number">6.1.</span> <span class="toc-text">半加器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%8A%A0%E5%99%A8"><span class="toc-number">6.2.</span> <span class="toc-text">全加器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E4%BD%8D%E5%85%A8%E5%8A%A0%E5%99%A8"><span class="toc-number">6.3.</span> <span class="toc-text">8 位全加器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-5"><span class="toc-number">6.4.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">实验7 数码管应用电路的设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#HEX0-%E6%95%B0%E7%A0%81%E7%AE%A1"><span class="toc-number">7.1.</span> <span class="toc-text">HEX0 数码管</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50M%E6%97%B6%E9%92%9F%E5%88%86%E9%A2%91%E5%99%A8"><span class="toc-number">7.2.</span> <span class="toc-text">50M时钟分频器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E4%BD%8D%E5%8D%81%E8%BF%9B%E5%88%B6%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-number">7.3.</span> <span class="toc-text">2位十进制计数器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B6%E5%B1%82%E6%A8%A1%E5%9D%97%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.4.</span> <span class="toc-text">顶层模块的设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-6"><span class="toc-number">7.5.</span> <span class="toc-text">思考题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">实验8 用状态机实现系列检测器</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/2022/info-literacy/20-info-improve-myself/" title="20-info-improve-myself"><img src="https://api.dujin.org/bing/1920.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="20-info-improve-myself"/></a><div class="content"><a class="title" href="/posts/2022/info-literacy/20-info-improve-myself/" title="20-info-improve-myself">20-info-improve-myself</a><time datetime="2022-07-17T16:00:00.000Z" title="发表于 2022-07-18 00:00:00">2022-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2022/info-literacy/21-info-network-resource/" title="21-info-network-resource"><img src="https://api.dujin.org/bing/1920.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="21-info-network-resource"/></a><div class="content"><a class="title" href="/posts/2022/info-literacy/21-info-network-resource/" title="21-info-network-resource">21-info-network-resource</a><time datetime="2022-07-17T16:00:00.000Z" title="发表于 2022-07-18 00:00:00">2022-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2022/info-literacy/10-info-retrieval-method/" title="10-info-retrieval-method"><img src="https://api.dujin.org/bing/1920.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10-info-retrieval-method"/></a><div class="content"><a class="title" href="/posts/2022/info-literacy/10-info-retrieval-method/" title="10-info-retrieval-method">10-info-retrieval-method</a><time datetime="2022-07-11T16:00:00.000Z" title="发表于 2022-07-12 00:00:00">2022-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2022/info-literacy/11-research-retrieval/" title="11-research-retrieval"><img src="https://api.dujin.org/bing/1920.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="11-research-retrieval"/></a><div class="content"><a class="title" href="/posts/2022/info-literacy/11-research-retrieval/" title="11-research-retrieval">11-research-retrieval</a><time datetime="2022-07-11T16:00:00.000Z" title="发表于 2022-07-12 00:00:00">2022-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2022/info-literacy/00-introduction-how-to-use-info/" title="00-introduction-how-to-use-info"><img src="https://api.dujin.org/bing/1920.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="00-introduction-how-to-use-info"/></a><div class="content"><a class="title" href="/posts/2022/info-literacy/00-introduction-how-to-use-info/" title="00-introduction-how-to-use-info">00-introduction-how-to-use-info</a><time datetime="2022-07-09T16:00:00.000Z" title="发表于 2022-07-10 00:00:00">2022-07-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By jinzhi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">这里是津志的日常~</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.zhimg.com/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://unpkg.zhimg.com/pangu@4/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://unpkg.zhimg.com/katex@latest/dist/katex.min.css"><script src="https://unpkg.zhimg.com/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://unpkg.zhimg.com/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://unpkg.zhimg.com/butterfly-extsrc@1/dist/canvas-nest.min.js"></script></div></body></html>